<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Retro Fortune Teller</title>
    <style>
        body {
            background-color: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
        }

        /* ‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏™ */
        .device-case {
            width: 300px;
            height: 500px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
        }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ E-ink */
        .screen {
            width: 240px;
            height: 240px;
            background-color: #d8d8d8;
            border: 10px solid #333;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            box-sizing: border-box;
            position: relative;
        }

        #current-date {
            width: 100%;
            color: #555;
            font-size: 12px;
            text-align: left;
            font-weight: bold;
        }

        #fortune-text {
            color: #111;
            font-size: 22px;
            font-weight: bold;
            text-align: center;
            white-space: pre-line;
            margin-bottom: 20px;
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î */
        .button-area {
            margin-top: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn {
            width: 80px;
            height: 80px;
            background: #444;
            border-radius: 50%;
            border: none;
            box-shadow: 0 5px #111;
            color: white;
            font-size: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }

        .btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px #111;
        }

        .icon { font-size: 20px; margin-bottom: 5px; }

        /* ‡πÅ‡∏ú‡πà‡∏ô‡∏ß‡∏á‡∏à‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á */
        .circuit-bg {
            position: absolute;
            top: 60%;
            z-index: -1;
            opacity: 0.15;
            font-size: 8px;
            color: #0f0;
            white-space: pre;
            pointer-events: none;
        }
    </style>
</head>
<body>

<div class="device-case">
    <div class="circuit-bg">
[ SYSTEM READY ]
[ CPU: A10 FUSION ]
[ SENSOR: GYRO-01 ]
[ BATT: 100% ]
    </div>
    
    <div class="screen">
        <div id="current-date">--/--/----</div>
        <div id="fortune-text">TAP 'START'\nTHEN SHAKE!</div>
    </div>

    <div class="button-area">
        <button class="btn" onclick="initSensor()">
            <span class="icon">üîå</span>START
        </button>
        <button class="btn" onclick="getFortune()">
            <span class="icon">üîÆ</span>LUCK
        </button>
        <button class="btn" onclick="goToMainMenu()">
            <span class="icon">üè†</span>MENU
        </button>
        <button class="btn" onclick="location.reload()">
            <span class="icon">üîÑ</span>RESET
        </button>
    </div>
    
    <p style="color: rgba(255,255,255,0.4); font-size: 10px; margin-top: 20px;">E-INK EMULATOR v2.0</p>
</div>

<script>
    const fortunes = [
        "Â§ßÂêâ (DAI-KICHI)\n‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!",
        "Âêâ (KICHI)\n‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏ô‡∏∞",
        "‰∏≠Âêâ (CHU-KICHI)\n‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á",
        "Â∞èÂêâ (SHO-KICHI)\n‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢",
        "Êú´Âêâ (SUE-KICHI)\n‡∏û‡∏≠‡∏•‡∏∏‡πâ‡∏ô‡πÑ‡∏î‡πâ",
        "Âá∂ (KYO)\n‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡∏±‡∏ß‡∏ô‡∏∞!"
    ];

    function updateDate() {
        const now = new Date();
        const options = { year: 'numeric', month: 'short', day: 'numeric' };
        document.getElementById('current-date').innerText = now.toLocaleDateString('th-TH', options);
    }

    function goToMainMenu() {
        document.getElementById('fortune-text').innerText = "SHAKE ME\nTO SEE LUCK";
        updateDate();
    }

    function getFortune() {
        const textElement = document.getElementById('fortune-text');
        textElement.style.opacity = "0.3"; // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÅ‡∏ö‡∏ö E-ink
        textElement.innerText = "WAITING...";
        
        setTimeout(() => {
            const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            textElement.innerText = randomFortune;
            textElement.style.opacity = "1";
            updateDate();
        }, 600);
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô Sensor ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö iPhone
    function initSensor() {
        if (typeof DeviceMotionEvent.requestPermission === 'function') {
            // ‡∏Å‡∏£‡∏ì‡∏µ iOS 13 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
            DeviceMotionEvent.requestPermission()
                .then(permissionState => {
                    if (permissionState === 'granted') {
                        startShakeDetection();
                        alert("‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢");
                    } else {
                        alert("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö");
                    }
                })
                .catch(console.error);
        } else {
            // ‡∏Å‡∏£‡∏ì‡∏µ Android ‡∏´‡∏£‡∏∑‡∏≠ iOS ‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤
            startShakeDetection();
            alert("‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!");
        }
    }

    let lastShake = 0;
    function startShakeDetection() {
        window.addEventListener('devicemotion', (event) => {
            let acc = event.accelerationIncludingGravity;
            let now = Date.now();
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏≤
            if (Math.abs(acc.x) > 15 || Math.abs(acc.y) > 15) {
                if (now - lastShake > 2000) { // ‡πÄ‡∏ß‡πâ‡∏ô‡∏ä‡πà‡∏ß‡∏á 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏≤
                    getFortune();
                    lastShake = now;
                }
            }
        });
    }

    window.onload = updateDate;
</script>

</body>
</html>
